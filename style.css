diff --git a/style.css b/style.css
index f4066c40133184622a318c3453f58a78cc0cf49a..52dc7978cd0939084b8cd7e23acc6b35e51b4af4 100644
--- a/style.css
+++ b/style.css
@@ -1,42 +1,175 @@
+    :root {
+      --bg: #f7f7fb;
+      --panel: #ffffff;
+      --text: #14171a;
+      --muted: #505662;
+      --primary: #2563eb;
+      --primary-ghost: rgba(37,99,235,0.12);
+      --border: #e5e7eb;
+      --ok: #16a34a;
+      --warn: #f59e0b;
+      --err: #ef4444;
+      --today: #9333ea;
+      --shadow: 0 10px 25px rgba(0,0,0,.08);
+      --menu-bg: #ffffff;
+      --chip-bg: rgba(0,0,0,0.04);
+      --chip-active: #2563eb;
+      --chip-active-fg: #ffffff;
+      --chip-ring: rgba(37,99,235,0.25);
+      --radius: 14px;
+      --pad: 10px;
+    }
+    [data-theme="dark"] {
+      --bg: #0b1220;
+      --panel: #0f172a;
+      --text: #e5e7eb;
+      --muted: #9ca3af;
+      --primary: #7aa2ff;
+      --primary-ghost: rgba(122,162,255,0.18);
+      --border: #1f2937;
+      --ok: #34d399;
+      --warn: #fbbf24;
+      --err: #ef4444;
+      --today: #c084fc;
+      --shadow: 0 10px 25px rgba(0,0,0,.35);
+      --menu-bg: #101827;
+      --chip-bg: rgba(255,255,255,0.06);
+      --chip-active: #7aa2ff;
+      --chip-active-fg: #0b1220;
+      --chip-ring: rgba(122,162,255,0.35);
+    }
+
+    * { box-sizing: border-box; }
+    html, body { height: 100%; }
+    body {
+      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
+      background: var(--bg); color: var(--text);
+      display: flex; flex-direction: column;
+    }
+    .row { display:flex; gap:8px; align-items:center; flex-wrap: wrap; }
+
+    /* Header */
+    header {
+      display: grid; grid-template-columns: auto 1fr auto auto; gap: 14px; align-items: center;
+      padding: 14px 18px; border-bottom: 1px solid var(--border);
+      position: sticky; top:0; z-index:10; background: linear-gradient(180deg, rgba(0,0,0,0.04), rgba(0,0,0,0)) , var(--bg);
+      backdrop-filter: blur(6px);
+    }
+    .brand { display:flex; align-items:center; gap:10px; font-weight: 800; }
+    .badge-logo {
+      width: 34px; height: 34px; display:grid; place-items:center; border-radius: 9px;
+      color:#0b1220; background: linear-gradient(135deg, #7aa2ff, #b8c7ff);
+      font-weight: 900;
+      box-shadow: 0 6px 18px rgba(122,162,255,.35);
+    }
+
+    /* Chips / buttons */
+    .chips { display:flex; gap:8px; background: var(--chip-bg); padding:6px; border-radius: 999px; }
+    .chip { padding: 8px 14px; border-radius: 999px; border: 1px solid transparent; cursor: pointer; font-weight: 700; font-size: 14px; background: transparent; color: var(--text); }
+    .chip:hover { box-shadow: 0 0 0 6px var(--chip-ring) inset; }
+    .chip.active { background: var(--chip-active); color: var(--chip-active-fg); }
+
+    .btn, input, select {
+      background: var(--panel); color: var(--text); border: 1px solid var(--border);
+      border-radius: var(--radius); padding: 10px 12px; font: inherit; outline: none; height: 42px;
+    }
+    .btn { cursor: pointer; box-shadow: var(--shadow); transition: transform .08s ease, box-shadow .2s ease; }
+    .btn:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(0,0,0,.15); }
+    .btn.primary { background: var(--primary); color: white; border-color: var(--primary); }
+    .btn.ghost { background: var(--primary-ghost); color: var(--text); border: 1px dashed transparent; }
+    .badge { padding: 6px 10px; border-radius: 999px; font-size: 13px; border: 1px solid var(--border); background: var(--panel); }
+
+    .agenda { width: 100%; max-width: 1400px; margin: 0 auto; padding: 16px; flex: 1 1 auto; display:flex; flex-direction: column; gap: 12px; }
+
+    .toolbar { display:grid; grid-template-columns: auto auto 1fr auto auto auto; gap:10px; align-items:center; }
+    .filters { justify-self: end; display:flex; gap:8px; align-items:center; flex-wrap: wrap; }
+
+    .grid {
+      display: grid; gap: 12px;
+      grid-template-columns: repeat(7, minmax(0,1fr));
+      flex: 1 1 auto;
+    }
+    .grid.month { grid-template-columns: repeat(7, minmax(0,1fr)); }
+    .day {
+      background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 10px;
+      box-shadow: var(--shadow); min-height: 180px; display: flex; flex-direction: column; gap: 10px; position: relative;
+    }
+    .day .head { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
+    .dow { font-weight: 800; letter-spacing: .2px;}
+    .date { font-variant-numeric: tabular-nums; color: var(--muted); font-size: 13px;}
+    .today { outline: 2px dashed var(--today); outline-offset: 2px; }
+    .loadbar { height: 14px; width: 100%; background: #e9ecef66; border-radius: 999px; border: 1px solid var(--border); }
+    .loadbar .fill { height: 100%; border-radius: 999px; transition: width .2s ease; }
+    .loadtxt { font-size: 12px; text-align: right; color: var(--muted); }
+    .list { display: grid; gap: 8px; overflow-y: auto; overflow-x: hidden; padding-right: 2px; }
+
+    .task {
+      display: grid; grid-template-columns: 22px minmax(220px, 1fr) auto 32px; gap: 10px; align-items: start;
+      padding: 10px 12px; border-radius: 12px; border: 1px solid var(--border); position: relative;
+      background: var(--panel); transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
+    }
+    .task:hover { transform: translateY(-1px); box-shadow: 0 10px 20px rgba(0,0,0,.10); }
+    .task .lbl { font-size: 14px; font-weight: 600; line-height: 1.25; white-space: normal; word-break: normal; overflow-wrap: break-word; hyphens: auto; writing-mode: horizontal-tb; min-width:0; }
+    .task .j { font-weight: 800; font-size: 12px; opacity: .95; align-self:center; }
+
+    /* Left colored bar for label */
+    .task .leftbar {
+      position: absolute; left: 0; top: 0; bottom: 0; width: 6px; border-radius: 12px 0 0 12px; background: #888;
+    }
+
+    /* Three-dots button */
+    .task .menu-btn {
+      width: 32px; height: 32px; border-radius: 10px; display:flex; align-items:center; justify-content:center;
+      font-size: 18px; line-height: 0; border: 1px solid var(--border);
+      background: var(--panel);
+    }
+
+    /* Floating context menu (outside lists to avoid clipping) */
+    .context-menu { position: fixed; left: 0; top: 0; background: var(--menu-bg); border: 1px solid var(--border);
+      border-radius: 12px; box-shadow: var(--shadow); display:none; z-index: 9999; min-width: 240px; font-size: 13px; padding: 6px; }
+    .context-menu.open { display:block; }
+    .context-menu .item { padding: 8px 10px; border-radius: 8px; cursor: pointer; }
+    .context-menu .item:hover { background: rgba(0,0,0,0.06); }
+    .context-menu .row { display:flex; gap:6px; align-items:center; padding: 8px 10px; }
+
+    .legend { display:flex; gap:10px; align-items:center; flex-wrap: wrap; padding-top:6px;}
+    .pill { padding: 2px 8px; border-radius: 999px; font-size: 12px; border: 1px solid var(--border); }
+    .dot { width: 10px; height: 10px; border-radius: 50%; background: currentColor; display: inline-block; }
+
+    /* Drawer */
+    .fab { position: fixed; right: 20px; bottom: 20px; z-index: 20; width: 56px; height: 56px; border-radius: 50%; display:flex; align-items:center; justify-content:center; font-size: 24px; }
+    .drawer-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.35); display: none; z-index: 30; }
+    .drawer { position: fixed; right: 0; top: 0; bottom: 0; width: 480px; max-width: 95vw; background: var(--panel); border-left: 1px solid var(--border); box-shadow: var(--shadow); z-index: 40; transform: translateX(100%); transition: transform .2s ease; display: flex; flex-direction: column; }
+    .drawer.open { transform: translateX(0); }
+    .drawer-backdrop.open { display: block; }
+    .drawer header { position: sticky; top:0; padding: 14px; display:flex; gap:8px; align-items:center; background: var(--panel); border-bottom: 1px solid var(--border); font-weight: 800; }
+    .drawer .content { padding: 14px; display: grid; gap: 14px; overflow: auto; }
+    .section { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 12px; }
+    .section h3 { margin: 6px 4px 10px; }
+    .control-group { display:grid; grid-template-columns: 1fr; gap: 8px; }
+    .control-row { display:grid; grid-template-columns: 1fr 1fr auto; gap: 8px; }
+    .control-row > * { min-width: 0; }
+    .listwrap { display:grid; gap:10px; }
+
+    /* Color palette */
+    .palette { display: grid; grid-template-columns: repeat(10, 24px); gap: 6px; }
+    .swatch { width: 24px; height: 24px; border-radius: 6px; border: 1px solid var(--border); cursor: pointer; }
+    .swatch.selected { outline: 2px solid var(--primary); outline-offset: 2px; }
+    .label-row { display:flex; gap:8px; align-items:center; }
+    .label-color-box { width: 18px; height: 18px; border-radius: 4px; border: 1px solid var(--border); }
+
+    @media (max-width: 980px) { .grid { grid-template-columns: repeat(2, 1fr);} .toolbar{grid-template-columns: auto 1fr; gap:8px;} }
+    @media (max-width: 640px) { .grid { grid-template-columns: 1fr; } .control-row{grid-template-columns: 1fr; } }
+/* utility classes */
+.hidden{display:none;}
+.wrap{flex-wrap:wrap;}
+.fw700{font-weight:700;}
+.flex-1{flex:1;}
+.self-start{justify-self:flex-start;}
+.invisible{visibility:hidden;}
+.compact{height:36px;padding:6px 8px;}
+.pill-ok{color:var(--ok);}
+.pill-warn{color:var(--warn);}
+.pill-err{color:var(--err);}
+.pill-today{color:var(--today);}
 
-/* -------- STYLES GÉNÉRAUX -------- */
-body {
-    font-family: 'Segoe UI', sans-serif;
-    margin: 0;
-    background-color: #f9f9f9;
-}
-
-/* -------- INTERFACE -------- */
-.revision-card {
-    padding: 12px;
-    margin-bottom: 10px;
-    border-radius: 10px;
-    background-color: #f1f3f4;
-    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
-    word-wrap: break-word;
-    white-space: normal;
-}
-
-/* Badge cycle J */
-.j-badge {
-    float: right;
-    background: #dfe6e9;
-    color: #2d3436;
-    font-size: 0.75rem;
-    padding: 2px 6px;
-    border-radius: 6px;
-}
-
-/* Navigation */
-button.active-view {
-    border: 2px solid #0984e3;
-    background-color: #dfe6e9;
-    font-weight: bold;
-    border-radius: 10px;
-}
-
-/* Etiquettes matières */
-.label-biologie { background-color: #d63031; color: white; padding: 2px 6px; border-radius: 4px; }
-.label-chimie { background-color: #e17055; color: white; padding: 2px 6px; border-radius: 4px; }
-.label-anatomie { background-color: #fdcb6e; color: black; padding: 2px 6px; border-radius: 4px; }
-.label-médicament { background-color: #00b894; color: white; padding: 2px 6px; border-radius: 4px; }
